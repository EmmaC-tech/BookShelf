{"ast":null,"code":"var _jsxFileName = \"/Users/imac/Downloads/book-buddy/src/pages/Home.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport SearchBar from '../components/SearchBar';\nimport BookCard from '../components/BookCard';\nimport useLibrary from '../hooks/useLibrary';\nimport AlertToast from '../components/AlertToast';\nfunction Home() {\n  const [books, setBooks] = useState([]);\n  const {\n    books: savedBooks,\n    addBook\n  } = useLibrary();\n\n  // Toast state\n  const [toast, setToast] = useState({\n    show: false,\n    message: '',\n    variant: 'success'\n  });\n  const handleSearch = async query => {\n    try {\n      const response = await axios.get(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}`);\n      setBooks(response.data.items || []);\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      setToast({\n        show: true,\n        message: 'Error fetching books',\n        variant: 'danger'\n      });\n    }\n  };\n  const handleSave = book => {\n    addBook(book);\n    setToast({\n      show: true,\n      message: `\"${book.volumeInfo.title}\" saved to your library!`,\n      variant: 'success'\n    });\n  };\n  const isSaved = id => savedBooks.some(b => b.id === id);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Search Google Books\"), /*#__PURE__*/React.createElement(SearchBar, {\n    onSearch: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), books.map(book => /*#__PURE__*/React.createElement(BookCard, {\n    key: book.id,\n    book: book,\n    onSave: isSaved(book.id) ? null : handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(AlertToast, {\n    show: toast.show,\n    onClose: () => setToast({\n      ...toast,\n      show: false\n    }),\n    message: toast.message,\n    variant: toast.variant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }));\n}\nexport default Home;","map":{"version":3,"names":["React","useState","axios","SearchBar","BookCard","useLibrary","AlertToast","Home","books","setBooks","savedBooks","addBook","toast","setToast","show","message","variant","handleSearch","query","response","get","encodeURIComponent","data","items","error","console","handleSave","book","volumeInfo","title","isSaved","id","some","b","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","map","key","onSave","onClose"],"sources":["/Users/imac/Downloads/book-buddy/src/pages/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport SearchBar from '../components/SearchBar';\nimport BookCard from '../components/BookCard';\nimport useLibrary from '../hooks/useLibrary';\nimport AlertToast from '../components/AlertToast';\n\nfunction Home() {\n  const [books, setBooks] = useState([]);\n  const { books: savedBooks, addBook } = useLibrary();\n\n  // Toast state\n  const [toast, setToast] = useState({ show: false, message: '', variant: 'success' });\n\n  const handleSearch = async (query) => {\n    try {\n      const response = await axios.get(\n        `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}`\n      );\n      setBooks(response.data.items || []);\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      setToast({ show: true, message: 'Error fetching books', variant: 'danger' });\n    }\n  };\n\n  const handleSave = (book) => {\n    addBook(book);\n    setToast({ show: true, message: `\"${book.volumeInfo.title}\" saved to your library!`, variant: 'success' });\n  };\n\n  const isSaved = (id) => savedBooks.some((b) => b.id === id);\n\n  return (\n    <div className=\"container p-4\">\n      <h1 className=\"mb-4\">Search Google Books</h1>\n      <SearchBar onSearch={handleSearch} />\n      {books.map((book) => (\n        <BookCard\n          key={book.id}\n          book={book}\n          onSave={isSaved(book.id) ? null : handleSave}\n        />\n      ))}\n\n      <AlertToast\n        show={toast.show}\n        onClose={() => setToast({ ...toast, show: false })}\n        message={toast.message}\n        variant={toast.variant}\n      />\n    </div>\n  );\n}\n\nexport default Home;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}