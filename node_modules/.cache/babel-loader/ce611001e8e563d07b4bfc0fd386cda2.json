{"ast":null,"code":"import { useState, useEffect } from 'react';\nconst STORAGE_KEY = 'book-buddy-library';\nfunction useLibrary() {\n  const [books, setBooks] = useState(() => {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    return stored ? JSON.parse(stored) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(books));\n  }, [books]);\n  const addBook = book => {\n    setBooks(prev => {\n      // Avoid duplicates by id\n      if (prev.find(b => b.id === book.id)) return prev;\n      return [...prev, book];\n    });\n  };\n  const updateBook = updatedBook => {\n    setBooks(prev => prev.map(b => b.id === updatedBook.id ? updatedBook : b));\n  };\n  const removeBook = id => {\n    setBooks(prev => prev.filter(b => b.id !== id));\n  };\n  const getBookById = id => books.find(b => b.id === id);\n  return {\n    books,\n    addBook,\n    updateBook,\n    removeBook,\n    getBookById\n  };\n}\nexport default useLibrary;","map":{"version":3,"names":["useState","useEffect","STORAGE_KEY","useLibrary","books","setBooks","stored","localStorage","getItem","JSON","parse","setItem","stringify","addBook","book","prev","find","b","id","updateBook","updatedBook","map","removeBook","filter","getBookById"],"sources":["/Users/imac/Downloads/book-buddy/src/hooks/useLibrary.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst STORAGE_KEY = 'book-buddy-library';\n\nfunction useLibrary() {\n  const [books, setBooks] = useState(() => {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    return stored ? JSON.parse(stored) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(books));\n  }, [books]);\n\n  const addBook = (book) => {\n    setBooks((prev) => {\n      // Avoid duplicates by id\n      if (prev.find((b) => b.id === book.id)) return prev;\n      return [...prev, book];\n    });\n  };\n\n  const updateBook = (updatedBook) => {\n    setBooks((prev) =>\n      prev.map((b) => (b.id === updatedBook.id ? updatedBook : b))\n    );\n  };\n\n  const removeBook = (id) => {\n    setBooks((prev) => prev.filter((b) => b.id !== id));\n  };\n\n  const getBookById = (id) => books.find((b) => b.id === id);\n\n  return {\n    books,\n    addBook,\n    updateBook,\n    removeBook,\n    getBookById,\n  };\n}\n\nexport default useLibrary;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAG,oBAAoB;AAExC,SAASC,UAAUA,CAAA,EAAG;EACpB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,MAAM;IACvC,MAAMM,MAAM,GAAGC,YAAY,CAACC,OAAO,CAACN,WAAW,CAAC;IAChD,OAAOI,MAAM,GAAGG,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC,GAAG,EAAE;EACzC,CAAC,CAAC;EAEFL,SAAS,CAAC,MAAM;IACdM,YAAY,CAACI,OAAO,CAACT,WAAW,EAAEO,IAAI,CAACG,SAAS,CAACR,KAAK,CAAC,CAAC;EAC1D,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMS,OAAO,GAAIC,IAAI,IAAK;IACxBT,QAAQ,CAAEU,IAAI,IAAK;MACjB;MACA,IAAIA,IAAI,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC,EAAE,OAAOH,IAAI;MACnD,OAAO,CAAC,GAAGA,IAAI,EAAED,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,UAAU,GAAIC,WAAW,IAAK;IAClCf,QAAQ,CAAEU,IAAI,IACZA,IAAI,CAACM,GAAG,CAAEJ,CAAC,IAAMA,CAAC,CAACC,EAAE,KAAKE,WAAW,CAACF,EAAE,GAAGE,WAAW,GAAGH,CAAE,CAC7D,CAAC;EACH,CAAC;EAED,MAAMK,UAAU,GAAIJ,EAAE,IAAK;IACzBb,QAAQ,CAAEU,IAAI,IAAKA,IAAI,CAACQ,MAAM,CAAEN,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC,CAAC;EACrD,CAAC;EAED,MAAMM,WAAW,GAAIN,EAAE,IAAKd,KAAK,CAACY,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC;EAE1D,OAAO;IACLd,KAAK;IACLS,OAAO;IACPM,UAAU;IACVG,UAAU;IACVE;EACF,CAAC;AACH;AAEA,eAAerB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}